import{u as O}from"./schedule.885962d3.js";import{d as P,c as w,r as L,u as W,v as n,H as c,B as e,A as a,V as b,a9 as E,aE as I,C as l,z as r,P as J,y as m,J as D,L as i,b8 as j,x as z,ah as S,Q as F,R as N,ag as Y,al as G,aD as Q,b9 as K,ba as X,aW as T,ab as Z,_ as ee}from"./entry.7bb5c275.js";import{V as y}from"./VChip.79dac80a.js";import{V as U}from"./VSpacer.97b09192.js";import{V as H}from"./VMenu.773dbdd7.js";import{V as g}from"./VBtn.b9a89bb9.js";import{V as te,a as C}from"./VList.fb699aef.js";import{V as ae}from"./VAppBar.7380b10f.js";import{V as le}from"./VContainer.2db2c00e.js";import{V as se}from"./VRow.227dd8d2.js";import{V as B}from"./VCol.bab0e1b8.js";import{V as ie}from"./VMain.0fae4c0b.js";import{V as ne}from"./VAppBarTitle.8ef28a1d.js";import{V as oe}from"./VDivider.122927b8.js";import{V as re}from"./VLayout.07e40625.js";import"./useConfetti.e0764db6.js";import"./index.c5a19fc7.js";/* empty css              */import"./VProgressCircular.76063535.js";import"./ssrBoot.f83422f3.js";import"./VToolbarTitle.a3404411.js";const ce={class:"d-flex align-center text-lowercase",style:{opacity:".8"}},de={class:"d-flex align-center text-capitalize mt-3",style:{opacity:".8"}},ue={class:"d-flex align-center text-capitalize font-weight-medium mt-3",style:{opacity:".8"}},pe={class:"d-flex flex-column text-wrap text-capitalize"},fe={class:"d-flex align-center font-weight-medium text-lowercase",style:{opacity:".8"}},me={key:0,class:"my-3 d-flex align-center font-weight-medium text-capitalize",style:{opacity:".8"}},he={class:"d-flex align-center text-capitalize font-weight-medium mt-3",style:{opacity:".8"}},ye={class:"d-flex align-center text-capitalize font-weight-medium mt-3",style:{opacity:".8"}},ge={key:1,class:"d-flex py-5 pb-0 flex-wrap",style:{gap:"5px"}},_e=P({__name:"DailyCard",props:{schedule:{}},setup(R){const $=O(),h=R,_=w(()=>new Date(h.schedule.startAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+" - "+new Date(h.schedule.endAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),s=w(()=>{const o=new Date,p=new Date(h.schedule.startAt),f=new Date(h.schedule.endAt);return h.schedule.finished?"finished":o>p&&o<f?"ongoing":o<p?"upcoming":"not finished"}),v=L(!1);function x(){$.toggleFinished(h.schedule._id)}function M(){window.open(h.schedule.link,"_blank")}const k=W();function A(){v.value=!1,k.push({query:{edit:h.schedule._id}})}return(o,p)=>(n(),c(H,{location:"end",modelValue:i(v),"onUpdate:modelValue":p[3]||(p[3]=f=>Y(v)?v.value=f:null),"close-on-content-click":!1,key:"parent"},{activator:e(({props:f})=>{var t;return[a(b,E(f,{flat:"",class:"pa-0 py-3 align-start h-100 rounded",variant:"flat",color:((t=o.schedule.tags[0])==null?void 0:t.color)||""}),{default:e(()=>[a(I,{class:"text-subtitle-1 mt-n2"},{default:e(()=>[l(r(o.schedule.title),1)]),_:1}),a(J,null,{default:e(()=>[m("div",ce,[a(D,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-clock")]),_:1}),l(" "+r(i(_)),1)]),m("div",de,[a(D,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-account-tie")]),_:1}),l(" "+r(o.schedule.user.name),1)]),m("div",ue,[i(s)=="finished"?(n(),c(y,{key:0,variant:"flat",class:"rounded text-capitalize","prepend-icon":"mdi-calendar-check",color:"success"},{default:e(()=>[l(r(i(s)),1)]),_:1})):i(s)=="ongoing"?(n(),c(y,{key:1,variant:"flat",class:"rounded text-capitalize","prepend-icon":"mdi-calendar-refresh",color:"secondary"},{default:e(()=>[l(r(i(s)),1)]),_:1})):i(s)=="upcoming"?(n(),c(y,{key:2,variant:"flat",class:"rounded text-capitalize","prepend-icon":"mdi-calendar-arrow-right",color:"info"},{default:e(()=>[l(r(i(s)),1)]),_:1})):(n(),c(y,{key:3,variant:"flat",class:"rounded text-capitalize","prepend-icon":"mdi-calendar-alert",color:"error"},{default:e(()=>[l(r(i(s)),1)]),_:1}))])]),_:1})]),_:2},1040,["color"])]}),default:e(()=>[a(b,{width:"345",class:"mx-2 pa-1"},{default:e(()=>[m("div",null,[a(I,{class:"d-flex",style:{"font-size":"18px"}},{default:e(()=>{var f;return[a(D,{class:"mr-3 mt-1",color:((f=o.schedule.tags[0])==null?void 0:f.color)||"grey",onClick:p[0]||(p[0]=()=>{})},{default:e(()=>[l("mdi-square-rounded")]),_:1},8,["color"]),m("div",pe,[l(r(o.schedule.title)+" ",1),a(j,{class:"px-0 text-caption"},{default:e(()=>[l(r(new Date(o.schedule.startAt).toDateString()),1)]),_:1})]),a(U),a(H,{persistent:"","no-click-animation":!0},{activator:e(({props:t})=>[a(g,E({icon:"mdi-dots-vertical"},t,{flat:"",size:"small"}),null,16)]),default:e(()=>[a(te,{class:"rounded"},{default:e(()=>[a(C,{onClick:A,"prepend-icon":"mdi-pencil-outline",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Edit")]),_:1}),o.schedule.finished?(n(),c(C,{key:1,onClick:x,"prepend-icon":"mdi-flag-remove",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Mark as unfinished")]),_:1})):(n(),c(C,{key:0,onClick:x,"prepend-icon":"mdi-flag",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Mark as finished")]),_:1})),a(C,{onClick:p[1]||(p[1]=t=>v.value=!1),"prepend-icon":"mdi-close",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Close")]),_:1}),a(C,{onClick:p[2]||(p[2]=t=>o.$router.push({query:{delete:o.schedule._id}})),"prepend-icon":"mdi-trash-can-outline",density:"compact",class:"text-capitalize text-caption text-error"},{default:e(()=>[l("Delete")]),_:1})]),_:1})]),_:1})]}),_:1}),a(J,null,{default:e(()=>[m("div",fe,[a(D,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-clock")]),_:1}),l(" "+r(i(_)),1)]),o.schedule.location?(n(),z("div",me,[a(D,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-map-marker")]),_:1}),l(" "+r(o.schedule.location),1)])):S("",!0),m("div",he,[a(D,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-account-tie")]),_:1}),l(" "+r(o.schedule.user.name),1)]),m("div",ye,[i(s)=="finished"?(n(),c(y,{key:0,class:"text-capitalize","prepend-icon":"mdi-calendar-check",color:"success"},{default:e(()=>[l(r(i(s)),1)]),_:1})):i(s)=="ongoing"?(n(),c(y,{key:1,class:"text-capitalize","prepend-icon":"mdi-calendar-refresh",color:"secondary"},{default:e(()=>[l(r(i(s)),1)]),_:1})):i(s)=="upcoming"?(n(),c(y,{key:2,class:"text-capitalize","prepend-icon":"mdi-calendar-arrow-right",color:"info"},{default:e(()=>[l(r(i(s)),1)]),_:1})):(n(),c(y,{key:3,class:"text-capitalize","prepend-icon":"mdi-calendar-alert",color:"error"},{default:e(()=>[l(r(i(s)),1)]),_:1}))]),o.schedule.tags.length>0?(n(),z("div",ge,[(n(!0),z(F,null,N(o.schedule.tags,f=>(n(),c(y,{variant:"flat",class:"text-capitalize rounded",color:f.color},{default:e(()=>[l(r(f.label),1)]),_:2},1032,["color"]))),256))])):S("",!0),o.schedule.link?(n(),c(g,{key:2,onClick:M,block:"",variant:"flat",class:"text-capitalize mt-2","prepend-icon":"mdi-video-outline",color:"blue"},{default:e(()=>[l("Join Meeting")]),_:1})):S("",!0)]),_:1})])]),_:1})]),_:1},8,["modelValue"]))}}),ve={class:"py-3"},xe={class:"text-center text-capitalize font-weight-regular"},De={class:"text-center text-h3 font-weight-bold"},ke={class:"text-center text-capitalize font-weight-regular"},we={key:0},ze={class:"mr-5"},Ve=P({__name:"daily",setup(R){const $=G("appbar");L(new Date);const h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"],s=L(new Date),{schedules:v}=Q(O()),x=w(()=>v.value.filter(t=>new Date(t.startAt).toDateString()==s.value.toDateString())),M=w(()=>{const t=new Date;if(x.value.length>0){const d=new Date(x.value[x.value.length-1].endAt);t.setHours(d.getHours()),t.setMinutes(d.getMinutes())}return t}),k=w(()=>{let t=1;const d=[s.value];for(;t<3;){const V=new Date(s.value);V.setDate(V.getDate()+t),d.push(V);const u=new Date(s.value);u.setDate(u.getDate()-t),d.unshift(u),t++}return d}),A=w(()=>{const t=new Date(k.value[0]),d=new Date(k.value[k.value.length-1]);return t.getMonth()==d.getMonth()?_[t.getMonth()]+" "+d.getFullYear():_[t.getMonth()]+"-"+_[d.getMonth()]+" "+d.getFullYear()});function o(){const t=new Date(s.value);t.setDate(t.getDate()+1),s.value=t}function p(){const t=new Date(s.value);t.setDate(t.getDate()-1),s.value=t}function f(){const t=new Date;s.value=t}return(t,d)=>{const V=_e;return n(),c(re,{class:"h-100 w-100 rounded-0 text-white",flat:"",style:{"overflow-y":"auto"}},{default:e(()=>[a(ae,{fluid:"",class:"py-0 px-5 d-flex align-center",color:"transparent",flat:"",height:"100"},{default:e(()=>[(n(!0),z(F,null,N(i(k),(u,q)=>(n(),c(B,{class:"",key:u.getDate()},{default:e(()=>[a(b,{onClick:Ce=>s.value=u,flat:"",class:"rounded h-100 text-white",variant:u.toDateString()==i(s).toDateString()?"tonal":"plain",style:Z(u.toDateString()==i(s).toDateString()?"":"opacity: .3")},{default:e(()=>[m("div",ve,[m("h5",xe,r(_[u.getMonth()]),1),m("h1",De,r(u.getDate()),1),m("h6",ke,r(h[q]),1)])]),_:2},1032,["onClick","variant","style"])]),_:2},1024))),128))]),_:1}),a(ie,{style:{"overflow-y":"hidden"}},{default:e(()=>[a(le,{id:"daily-container-card",style:{"overflow-y":"auto"},fluid:""},{default:e(()=>[a(se,{class:"d-flex h-100 w-100 pt-0"},{default:e(()=>[a(K,{name:"scale"},{default:e(()=>[(n(!0),z(F,null,N(i(x),(u,q)=>(n(),c(B,{cols:"3",key:u._id},{default:e(()=>[a(V,{schedule:u},null,8,["schedule"])]),_:2},1024))),128)),(n(),c(B,{cols:"3",style:"transition-delay: 5s",key:"column"},{default:e(()=>[a(b,{onClick:d[0]||(d[0]=u=>t.$router.push({query:{date:i(M).toISOString()}})),height:"55",class:"d-flex align-center justify-center",variant:"tonal",style:{border:"2px dashed"}},{default:e(()=>[a(D,{size:"25"},{default:e(()=>[l("mdi-plus")]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),i($)?(n(),z("div",we,[(n(),c(X,{to:"#app-bar-schedule"},[a(ne,{class:"d-flex font-weight-bold align-center"},{default:e(()=>[m("span",ze,r(i(A)),1),a(g,{size:"small",onClick:d[1]||(d[1]=u=>t.$router.push({query:{date:new Date().toISOString()}})),variant:"flat",class:"mr-2 text-capitalize px-3","append-icon":"mdi-plus-circle-outline",color:"primary"},{default:e(()=>[l("Create")]),_:1})]),_:1}),a(U),a(g,{to:{name:"r-access-schedules-monthly"},variant:(t._.provides[T]||t.$route).name=="r-access-schedules-monthly"?"flat":"tonal",class:"text-capitalize mr-2",size:"small"},{default:e(()=>[l("Monthly")]),_:1},8,["variant"]),a(g,{to:{name:"r-access-schedules"},class:"text-capitalize mr-2",size:"small",variant:(t._.provides[T]||t.$route).name=="r-access-schedules"?"flat":"tonal",active:!1},{default:e(()=>[l("Weekly")]),_:1},8,["variant"]),a(g,{to:{name:"r-access-schedules-daily"},variant:(t._.provides[T]||t.$route).name=="r-access-schedules-daily"?"flat":"tonal",class:"text-capitalize",size:"small"},{default:e(()=>[l("Daily")]),_:1},8,["variant"]),a(oe,{inset:"",vertical:"",class:"mx-3"}),a(g,{size:"x-small",variant:"tonal",class:"rounded-lg mr-2",icon:"mdi-chevron-left",onClick:p}),a(g,{onClick:f,class:"text-capitalize mr-2",size:"small"},{default:e(()=>[l("Today")]),_:1}),a(g,{size:"x-small",variant:"tonal",class:"rounded-lg",icon:"mdi-chevron-right",onClick:o})]))])):S("",!0)]),_:1})}}});const Ye=ee(Ve,[["__scopeId","data-v-5fbaf9fb"]]);export{Ye as default};
