import{_ as F}from"./EditScheduleCard.vue.d40d8bae.js";import{d as M,r as b,c as D,v as i,x as v,A as e,B as t,aE as T,y as p,S as J,z as m,J as k,C as a,L as d,ah as z,Q as $,R as N,H as g,M as S,V as w,ag as C,aU as U,I as H,bb as O,aD as Q,_ as Y}from"./entry.7bb5c275.js";import{u as R}from"./schedule.885962d3.js";import{V as L}from"./VSpacer.97b09192.js";import{V as r}from"./VBtn.b9a89bb9.js";import{V as j}from"./VChip.79dac80a.js";import{V as G}from"./VAppBarTitle.8ef28a1d.js";import{V as K}from"./VAppBar.7380b10f.js";import{V as I}from"./VCol.bab0e1b8.js";import{V as P}from"./VMain.0fae4c0b.js";import{V as W}from"./VLayout.07e40625.js";import"./DatePicker.vue.d287ee6f.js";import"./VTextField.403b1d5e.js";import"./index.c5a19fc7.js";import"./VList.fb699aef.js";import"./ssrBoot.f83422f3.js";import"./VDivider.122927b8.js";import"./VMenu.773dbdd7.js";import"./index.a1f8d395.js";import"./VForm.b2bbd630.js";import"./useConfetti.e0764db6.js";/* empty css              */import"./VProgressCircular.76063535.js";import"./VToolbarTitle.a3404411.js";const X={class:"d-flex align-center text-lowercase",style:{opacity:".8"}},Z={key:0,class:"my-3 d-flex align-center font-weight-regular text-capitalize",style:{opacity:".8"}},ee={class:"d-flex align-center text-capitalize mt-3",style:{opacity:".8"}},te={key:1,class:"d-flex py-5 pb-0 flex-wrap",style:{gap:"5px"}},ae={class:"mt-4 pb-0 d-flex align-center",style:{gap:"5px"}},le={class:"text-center mt-2 font-weight-medium"},se={class:"font-weight-bold text-error"},oe={class:"d-flex mt-4",style:{gap:"10px"}},ie=M({__name:"DateListItem",props:{schedule:{}},setup(A){const u=b(!1),c=b(!1),f=b(!1),x=R(),n=A,h=D(()=>new Date(n.schedule.startAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+" - "+new Date(n.schedule.endAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}));function y(){x.toggleFinished(n.schedule._id)}function _(){window.open(n.schedule.link,"_blank")}const V=b(!1);function q(){V.value=!0,x.destroy(n.schedule._id).then(()=>{f.value=!1,V.value=!1})}return(l,s)=>{var B;const E=F;return i(),v($,null,[e(w,{density:"compact",color:((B=l.schedule.tags[0])==null?void 0:B.color)||"background",class:"border mb-2 rounded text-subtitle-2 font-weight-regular text-capitalize h-100 d-flex flex-column pa-2 px-4 pb-4",flat:""},{default:t(()=>[e(T,{class:"d-flex pb-0 px-0"},{default:t(()=>[p("h5",{class:J([l.schedule.finished?"text-decoration-line-through":"","text-wrap"])},m(l.schedule.title),3),e(L),e(r,{variant:"text",size:"x-small",icon:"mdi-pencil-outline",onClick:s[0]||(s[0]=o=>l.$router.push({query:{edit:l.schedule._id}}))}),e(r,{variant:"text",size:"x-small",icon:"mdi-trash-can-outline",onClick:s[1]||(s[1]=o=>l.$router.push({query:{delete:l.schedule._id}}))})]),_:1}),p("div",X,[e(k,{size:"18",class:"mr-4"},{default:t(()=>[a("mdi-clock")]),_:1}),a(" "+m(d(h)),1)]),l.schedule.location?(i(),v("div",Z,[e(k,{size:"18",class:"mr-4"},{default:t(()=>[a("mdi-map-marker")]),_:1}),a(" "+m(l.schedule.location),1)])):z("",!0),p("div",ee,[e(k,{size:"18",class:"mr-4"},{default:t(()=>[a("mdi-account-tie")]),_:1}),a(" "+m(l.schedule.user.name),1)]),l.schedule.tags.length>1?(i(),v("div",te,[(i(!0),v($,null,N(l.schedule.tags.slice(1),o=>(i(),g(j,{variant:"flat",class:"text-capitalize rounded",color:o.color},{default:t(()=>[a(m(o.label),1)]),_:2},1032,["color"]))),256))])):z("",!0),e(L),p("div",ae,[l.schedule.finished?(i(),g(r,{key:1,onClick:S(y,["stop"]),variant:"outlined",class:"text-capitalize",size:"small","prepend-icon":"mdi-checkbox-blank"},{default:t(()=>[a("Unfinished")]),_:1})):(i(),g(r,{key:0,onClick:S(y,["stop"]),variant:"outlined",class:"text-capitalize",size:"small","prepend-icon":"mdi-checkbox-marked"},{default:t(()=>[a("Finished")]),_:1})),l.schedule.link?(i(),g(r,{key:2,onClick:S(_,["stop"]),variant:"flat",class:"text-capitalize",size:"small","prepend-icon":"mdi-video",color:"blue"},{default:t(()=>[a("Join Meeting")]),_:1})):z("",!0)])]),_:1},8,["color"]),e(U,{scrim:"transparent",style:{position:"fixed"},modelValue:d(c),"onUpdate:modelValue":s[3]||(s[3]=o=>C(c)?c.value=o:null),contained:""},{default:t(()=>[e(w,{class:"pa-4 pt-1"},{default:t(()=>[e(T,{class:"px-0 text-subtitle-1"},{default:t(()=>[a("Edit Schedule")]),_:1}),e(E,{schedule:l.schedule,menu:d(c),"onUpdate:menu":s[2]||(s[2]=o=>C(c)?c.value=o:null)},null,8,["schedule","menu"])]),_:1})]),_:1},8,["modelValue"]),e(U,{style:{position:"fixed"},width:"400",modelValue:d(u),"onUpdate:modelValue":s[5]||(s[5]=o=>C(u)?u.value=o:null),scrim:"transparent",contained:""},{default:t(()=>[e(w,{class:"pa-5 px-10 d-flex flex-column align-center",loading:d(V),disabled:d(V)},{default:t(()=>[e(H,{size:"50",style:{border:"2px solid rgba(var(--v-theme-error))",opacity:".5"}},{default:t(()=>[e(k,{size:"25",color:"error"},{default:t(()=>[a("mdi-trash-can-outline")]),_:1})]),_:1}),p("h4",le,[a("Are you sure you want to delete "),p("span",se,m(l.schedule.title),1),a(" schedule?")]),p("div",oe,[e(r,{class:"text-capitalize",size:"small",color:"blue",onClick:q},{default:t(()=>[a("Yes")]),_:1}),e(r,{class:"text-capitalize",size:"small",onClick:s[4]||(s[4]=o=>u.value=!1)},{default:t(()=>[a("No")]),_:1})])]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])],64)}}}),ne=M({__name:"[date]",setup(A){const u=O(),{schedules:c}=Q(R()),f=D(()=>c.value.filter(n=>new Date(n.startAt).toDateString()==new Date(u.params.date.toString()).toDateString())),x=D(()=>f.value.length>0?new Date(f.value[f.value.length-1].startAt):new Date(u.params.date.toString()));return(n,h)=>{const y=ie;return i(),g(W,{class:"h-100"},{default:t(()=>[e(K,{density:"comfortable",class:"border-b",flat:""},{default:t(()=>[e(G,{class:"font-weight-medium"},{default:t(()=>[a(m(new Date(d(u).params.date.toString()).toDateString()),1)]),_:1}),e(r,{icon:"mdi-close",onClick:h[0]||(h[0]=_=>n.$router.push({name:"r-access-schedules-monthly"}))})]),_:1}),e(P,{class:"h-100"},{default:t(()=>[e(w,{class:"pa-4 h-100 d-flex flex-wrap",height:"500",style:{"overflow-y":"auto"},id:"date-list-container"},{default:t(()=>[(i(!0),v($,null,N(d(f),_=>(i(),g(I,{cols:"6",key:_._id},{default:t(()=>[e(y,{class:"h-100",schedule:_},null,8,["schedule"])]),_:2},1024))),128)),e(I,{cols:"6"},{default:t(()=>[e(r,{block:"","prepend-icon":"mdi-plus",class:"text-capitalize",size:"large",variant:"tonal",onClick:h[1]||(h[1]=_=>n.$router.push({query:{date:d(x).toISOString()}}))},{default:t(()=>[a("Add Schedule")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const Te=Y(ne,[["__scopeId","data-v-c59d29b9"]]);export{Te as default};
