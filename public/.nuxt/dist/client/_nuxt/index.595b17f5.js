import{u as q}from"./schedule.885962d3.js";import{d as B,c as x,r as F,u as P,v as o,H as m,B as e,A as a,V as A,a9 as M,L as d,y as h,z as u,x as D,ah as b,aE as U,J as S,C as l,b8 as W,P as H,Q as I,R as N,ag as j,aD as G,S as Q,b9 as Y,ab as K,_ as E,al as X,ba as Z,aW as T}from"./entry.7bb5c275.js";import{V as J}from"./VSpacer.97b09192.js";import{V as R}from"./VMenu.773dbdd7.js";import{V as v}from"./VBtn.b9a89bb9.js";import{V as ee,a as C}from"./VList.fb699aef.js";import{V}from"./VChip.79dac80a.js";import{V as te}from"./VCol.bab0e1b8.js";import{V as ae}from"./VRow.227dd8d2.js";import{V as se}from"./VContainer.2db2c00e.js";import{V as le}from"./VAppBarTitle.8ef28a1d.js";import{V as ne}from"./VDivider.122927b8.js";import"./useConfetti.e0764db6.js";/* empty css              */import"./VProgressCircular.76063535.js";import"./index.c5a19fc7.js";import"./ssrBoot.f83422f3.js";import"./VToolbarTitle.a3404411.js";const oe={class:"text-subtitle-1 font-weight-medium"},ie={key:0,class:"font-weight-regular text-caption text-lowercase"},re={class:"d-flex flex-column text-wrap text-capitalize"},ce={class:"d-flex align-center font-weight-medium text-lowercase",style:{opacity:".8"}},de={key:0,class:"my-3 d-flex align-center font-weight-medium text-capitalize",style:{opacity:".8"}},ue={class:"d-flex align-center text-capitalize font-weight-medium mt-3",style:{opacity:".8"}},pe={class:"d-flex align-center text-capitalize font-weight-medium mt-3",style:{opacity:".8"}},me={key:1,class:"d-flex py-5 pb-0 flex-wrap",style:{gap:"5px"}},fe=B({__name:"CalendarColumnCard",props:{schedule:{}},setup($){const w=q(),n=$,p=x(()=>{const s=new Date,i=new Date(n.schedule.startAt),c=new Date(n.schedule.endAt);return n.schedule.finished?"finished":s>i&&s<c?"ongoing":s<i?"upcoming":"not finished"}),f=F(!1),k=x(()=>new Date(n.schedule.startAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+" - "+new Date(n.schedule.endAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),z=x(()=>{const s=new Date(n.schedule.startAt),c=new Date(n.schedule.endAt)-s,y=Math.floor(c/(1e3*60*60)),O=c/(1e3*60)%60/60;let L=90*y+90*O;return y>1&&(L+=(y-1)*5),L});function _(){w.toggleFinished(n.schedule._id)}function g(){window.open(n.schedule.link,"_blank")}const t=P();function r(){f.value=!1,t.push({query:{edit:n.schedule._id}})}return(s,i)=>(o(),m(R,{location:"end",modelValue:d(f),"onUpdate:modelValue":i[3]||(i[3]=c=>j(f)?f.value=c:null),"close-on-content-click":!1,key:"parent"},{activator:e(({props:c})=>{var y;return[a(A,M(c,{height:d(z),variant:"elevated",class:"pa-3 d-flex flex-column",color:((y=s.schedule.tags[0])==null?void 0:y.color)||"surface",style:{"user-select":"none"}}),{default:e(()=>[h("h4",oe,u(s.schedule.title.length>12?s.schedule.title.substring(0,12)+"...":s.schedule.title),1),d(z)>=170/2?(o(),D("h5",ie,u(d(k)),1)):b("",!0)]),_:2},1040,["height","color"])]}),default:e(()=>[a(A,{width:"345",class:"mx-2 pa-1"},{default:e(()=>[h("div",null,[a(U,{class:"d-flex",style:{"font-size":"18px"}},{default:e(()=>{var c;return[a(S,{class:"mr-3 mt-1",color:((c=s.schedule.tags[0])==null?void 0:c.color)||"grey",onClick:i[0]||(i[0]=()=>{})},{default:e(()=>[l("mdi-square-rounded")]),_:1},8,["color"]),h("div",re,[l(u(s.schedule.title)+" ",1),a(W,{class:"px-0 text-caption"},{default:e(()=>[l(u(new Date(s.schedule.startAt).toDateString()),1)]),_:1})]),a(J),a(R,{persistent:"","no-click-animation":!0},{activator:e(({props:y})=>[a(v,M({icon:"mdi-dots-vertical"},y,{flat:"",size:"small"}),null,16)]),default:e(()=>[a(ee,{class:"rounded"},{default:e(()=>[a(C,{onClick:r,"prepend-icon":"mdi-pencil-outline",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Edit")]),_:1}),s.schedule.finished?(o(),m(C,{key:1,onClick:_,"prepend-icon":"mdi-flag-remove",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Mark as unfinished")]),_:1})):(o(),m(C,{key:0,onClick:_,"prepend-icon":"mdi-flag",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Mark as finished")]),_:1})),a(C,{onClick:i[1]||(i[1]=y=>f.value=!1),"prepend-icon":"mdi-close",density:"compact",class:"text-capitalize text-caption"},{default:e(()=>[l("Close")]),_:1}),a(C,{onClick:i[2]||(i[2]=y=>s.$router.push({query:{delete:s.schedule._id}})),"prepend-icon":"mdi-trash-can-outline",density:"compact",class:"text-capitalize text-caption text-error"},{default:e(()=>[l("Delete")]),_:1})]),_:1})]),_:1})]}),_:1}),a(H,null,{default:e(()=>[h("div",ce,[a(S,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-clock")]),_:1}),l(" "+u(d(k)),1)]),s.schedule.location?(o(),D("div",de,[a(S,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-map-marker")]),_:1}),l(" "+u(s.schedule.location),1)])):b("",!0),h("div",ue,[a(S,{size:"25",class:"mr-4"},{default:e(()=>[l("mdi-account-tie")]),_:1}),l(" "+u(s.schedule.user.name),1)]),h("div",pe,[d(p)=="finished"?(o(),m(V,{key:0,class:"text-capitalize","prepend-icon":"mdi-calendar-check",color:"success"},{default:e(()=>[l(u(d(p)),1)]),_:1})):d(p)=="ongoing"?(o(),m(V,{key:1,class:"text-capitalize","prepend-icon":"mdi-calendar-refresh",color:"secondary"},{default:e(()=>[l(u(d(p)),1)]),_:1})):d(p)=="upcoming"?(o(),m(V,{key:2,class:"text-capitalize","prepend-icon":"mdi-calendar-arrow-right",color:"info"},{default:e(()=>[l(u(d(p)),1)]),_:1})):(o(),m(V,{key:3,class:"text-capitalize","prepend-icon":"mdi-calendar-alert",color:"error"},{default:e(()=>[l(u(d(p)),1)]),_:1}))]),s.schedule.tags.length>0?(o(),D("div",me,[(o(!0),D(I,null,N(s.schedule.tags,c=>(o(),m(V,{variant:"flat",class:"text-capitalize rounded",color:c.color},{default:e(()=>[l(u(c.label),1)]),_:2},1032,["color"]))),256))])):b("",!0),s.schedule.link?(o(),m(v,{key:2,onClick:g,block:"",variant:"flat",class:"text-capitalize mt-2","prepend-icon":"mdi-video-outline",color:"blue"},{default:e(()=>[l("Video Meeting")]),_:1})):b("",!0)]),_:1})])]),_:1})]),_:1},8,["modelValue"]))}}),he={class:"py-5"},_e={class:"text-center text-capitalize font-weight-regular"},ge={class:"text-center text-h3 font-weight-bold"},ye={class:"h-100 pa-2 d-flex flex-column",style:{"row-gap":"5px"}},ve=B({__name:"CalendarTableColumn",props:{date:{}},setup($){const w=$,n=new Date,{schedules:p}=G(q()),f=x(()=>p.value.filter(g=>new Date(g.startAt).toDateString()==w.date.toDateString()).sort((g,t)=>new Date(g.startAt)-new Date(t.startAt))),k=x(()=>f.value.length>0?new Date(f.value[f.value.length-1].endAt):new Date(w.date)),z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return(_,g)=>{const t=fe;return o(),m(te,M(w,{class:"col pa-0"}),{default:e(()=>[a(A,{flat:"",class:Q(["rounded-0 h-100 text-white",_.date.toDateString()==d(n).toDateString()?"section-active":"bg-transparent"])},{default:e(()=>[h("div",he,[h("h6",_e,u(z[_.date.getDay()]),1),h("h1",ge,u(_.date.getDate()),1)]),h("div",ye,[a(Y,{name:"scale-y"},{default:e(()=>[(o(!0),D(I,null,N(d(f),(r,s)=>(o(),D("div",{key:r._id},[a(t,{schedule:r,style:K(`transition-delay: ${s/5};`)},null,8,["schedule","style"])]))),128))]),_:1}),a(A,{class:"pa-2",height:"80",variant:"outlined",style:{border:"2px dashed"},onClick:g[0]||(g[0]=r=>_.$router.push({query:{date:d(k).toISOString()}}))},{default:e(()=>[a(S,null,{default:e(()=>[l("mdi-plus-circle")]),_:1})]),_:1})])]),_:1},8,["class"])]),_:1},16)}}});const De=E(ve,[["__scopeId","data-v-61ac885c"]]),we={key:0},xe={class:"mr-5"},ke=B({__name:"index",setup($){const w=X("appbar"),n=F(new Date),p=["January","February","March","April","May","June","July","August","September","October","November","December"],f=x(()=>{const t=new Date(n.value.toISOString());t.setDate(t.getDate()-t.getDay());const r=t.getMonth();t.setDate(t.getDate()+6);const s=t.getMonth();return(r==s?p[r]:p[r]+" - "+p[s])+" "+t.getFullYear()}),k=x(()=>{const t=n.value.getDay(),r=new Date(n.value);r.setDate(r.getDate()-t);const s=6,i=[];i.push(new Date(r));for(let c=0;c<s;c++)r.setDate(r.getDate()+1),i.push(new Date(r));return i});function z(){const t=new Date(n.value);t.setDate(t.getDate()-7),n.value=t}function _(){const t=new Date(n.value);t.setDate(t.getDate()+7),n.value=t}function g(){const t=new Date;t.setDate(t.getDate()-t.getDay()),n.value=t}return(t,r)=>{const s=De;return o(),m(A,{id:"table-container",class:"h-100 rounded-0 w-100 text-white",color:"transparent",flat:"",style:{"overflow-y":"auto"}},{default:e(()=>[a(se,{fluid:"",class:"container pa-0 h-100 px-5"},{default:e(()=>[a(ae,{class:"h-100"},{default:e(()=>[(o(!0),D(I,null,N(d(k),(i,c)=>(o(),m(s,{key:i.getDate(),date:i},null,8,["date"]))),128))]),_:1})]),_:1}),d(w)?(o(),D("div",we,[(o(),m(Z,{to:"#app-bar-schedule"},[a(le,{class:"d-flex font-weight-bold align-center"},{default:e(()=>[h("span",xe,u(d(f)),1),a(v,{size:"small",onClick:r[0]||(r[0]=i=>t.$router.push({query:{date:new Date().toISOString()}})),variant:"flat",class:"mr-2 text-capitalize px-3","append-icon":"mdi-plus-circle-outline",color:"primary"},{default:e(()=>[l("Create")]),_:1})]),_:1}),a(J),a(v,{to:{name:"r-access-schedules-monthly"},variant:(t._.provides[T]||t.$route).name=="r-access-schedules-monthly"?"flat":"tonal",class:"text-capitalize mr-2",size:"small"},{default:e(()=>[l("Monthly")]),_:1},8,["variant"]),a(v,{to:{name:"r-access-schedules"},class:"text-capitalize mr-2",size:"small",variant:(t._.provides[T]||t.$route).name=="r-access-schedules"?"flat":"tonal",active:!1},{default:e(()=>[l("Weekly")]),_:1},8,["variant"]),a(v,{to:{name:"r-access-schedules-daily"},variant:(t._.provides[T]||t.$route).name=="r-access-schedules-daily"?"flat":"tonal",class:"text-capitalize",size:"small"},{default:e(()=>[l("Daily")]),_:1},8,["variant"]),a(ne,{inset:"",vertical:"",class:"mx-3"}),a(v,{size:"x-small",variant:"tonal",class:"rounded-lg mr-2",icon:"mdi-chevron-left",onClick:z}),a(v,{onClick:g,class:"text-capitalize mr-2",size:"small"},{default:e(()=>[l("Today")]),_:1}),a(v,{size:"x-small",variant:"tonal",class:"rounded-lg",icon:"mdi-chevron-right",onClick:_})]))])):b("",!0)]),_:1})}}});const Pe=E(ke,[["__scopeId","data-v-37bd3795"]]);export{Pe as default};
