import{u as V}from"./schedule.885962d3.js";import{d as D,c as q,aO as ie,o as de,v as m,H as y,B as s,A as e,b8 as ue,C as g,z as B,L as t,aE as K,P as ce,ah as C,V as S,aD as z,r as A,x as b,Q as J,R as X,a9 as pe,J as R,y as k,aJ as me,ag as ee,b9 as _e,ab as fe,M as P,D as te,E as se,_ as ne,O as E,u as oe,I as ge,G as he,aw as ve,t as ye,at as we,aU as $e,aW as O,bc as Q,b2 as Ae}from"./entry.7bb5c275.js";import{V as T}from"./VBtn.b9a89bb9.js";import{V as Y}from"./VChip.79dac80a.js";import{u as ae,_ as xe,a as be,b as ke}from"./EditScheduleCard.vue.d40d8bae.js";import{a as j,V as le}from"./VList.fb699aef.js";import{V as Ve}from"./VHover.4a9f2355.js";import{V as L}from"./VTextField.403b1d5e.js";import{V as De}from"./VSpacer.97b09192.js";import{V as Se}from"./VNavigationDrawer.5de7271e.js";import{_ as Ce}from"./DatePicker.vue.d287ee6f.js";import{r as G,c as I,u as Te}from"./index.a1f8d395.js";import{V as Z}from"./VCol.bab0e1b8.js";import{V as Me}from"./VForm.b2bbd630.js";import{V as qe}from"./VAppBarNavIcon.a662208a.js";import{V as ze}from"./VAppBar.7380b10f.js";import{V as Ne}from"./VMain.0fae4c0b.js";import"./useConfetti.e0764db6.js";import"./VProgressCircular.76063535.js";import"./index.c5a19fc7.js";import"./VMenu.773dbdd7.js";import"./ssrBoot.f83422f3.js";import"./VDivider.122927b8.js";/* empty css              */import"./VToolbarTitle.a3404411.js";const Ue=D({__name:"UpcomingScheduleCard",props:{schedule:{}},setup(h){const f=V(),l=h,i=q(()=>new Date(l.schedule.startAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+" - "+new Date(l.schedule.endAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),a=ie(new Date(l.schedule.startAt)),u=q(()=>{const o=new Date,c=new Date(l.schedule.startAt),_=new Date(l.schedule.endAt);return o.toDateString()==_.toDateString()&&o>c&&o<_});function n(){f.toggleFinished(l.schedule._id)}de(()=>{const o=document.getElementById(l.schedule._id);o&&(o.style.transitionDelay="none !important")});function d(){window.open(l.schedule.link,"_blank")}return(o,c)=>{var _;return m(),y(S,{flat:"",class:"pa-0 py-3 rounded border",variant:"flat",color:((_=o.schedule.tags[0])==null?void 0:_.color)||"background"},{default:s(()=>[e(ue,{class:"text-caption"},{default:s(()=>[g(B(t(i)),1)]),_:1}),e(K,{class:"text-subtitle-1 mt-n2"},{default:s(()=>[g(B(o.schedule.title),1)]),_:1}),e(ce,{class:"d-flex pb-0",style:{gap:"5px"}},{default:s(()=>[e(T,{size:"small",class:"text-capitalize rounded","prepend-icon":o.schedule.finished?"mdi-square-rounded":"mdi-checkbox-marked",variant:"outlined",flat:"",onClick:n},{default:s(()=>[g("finished")]),_:1},8,["prepend-icon"]),o.schedule.link?(m(),y(T,{key:0,size:"small",class:"text-capitalize rounded",color:"blue","prepend-icon":"mdi-video",variant:"elevated",flat:"",onClick:d},{default:s(()=>[g("Join Meeting")]),_:1})):C("",!0)]),_:1}),t(u)?(m(),y(Y,{key:0,size:"x-small","prepend-icon":"mdi-clock-time-nine-outline",style:{position:"absolute",top:"10px",right:"10px"}},{default:s(()=>[g("Ongoing")]),_:1})):(m(),y(Y,{key:1,size:"x-small","prepend-icon":"mdi-clock-outline",style:{position:"absolute",top:"10px",right:"10px"}},{default:s(()=>[g(B(t(a)),1)]),_:1}))]),_:1},8,["color"])}}}),Ie={key:0},Be={key:0,style:{position:"absolute",right:"15px"}},Ee={key:1,class:"text-center",style:{opacity:".7"}},He={class:"pa-2"},Le=D({__name:"ListTags",setup(h){const f=ae(),{tags:l}=z(f),i=A(!0),a=A(""),u=A(!1),n=A();async function d(){a.value&&(await f.create(a.value),a.value="",n.value.blur())}return(o,c)=>(m(),b(J,null,[e(j,{title:"My Tags","append-icon":t(i)?"mdi-chevron-up":"mdi-chevron-down",class:"pa-3 px-5 ma-0 w-100 border-b",onClick:c[0]||(c[0]=_=>i.value=!t(i))},null,8,["append-icon"]),t(i)?(m(),y(le,{key:0,class:"w-100"},{default:s(()=>[t(l).length>0?(m(),b("div",Ie,[(m(!0),b(J,null,X(t(l),_=>(m(),y(Ve,{key:_.label},{default:s(({props:N,isHovering:p})=>[e(j,pe({class:"px-5 text-subtitle-2 border-b font-weight-regular w-100",active:p},N),{prepend:s(()=>[e(R,{color:_.color},{default:s(()=>[g("mdi-square")]),_:2},1032,["color"])]),append:s(()=>[p?(m(),b("div",Be,[e(T,{size:"x-small",variant:"tonal",icon:"mdi-trash-can-outline",color:"error",onClick:M=>t(f).destroy(_._id)},null,8,["onClick"])])):C("",!0)]),default:s(()=>[g(" "+B(_.label)+" ",1)]),_:2},1040,["active"])]),_:2},1024))),128))])):(m(),b("div",Ee," No tags available "))]),_:1})):C("",!0),k("div",He,[e(L,{density:"compact",onFocus:c[1]||(c[1]=_=>u.value=!0),onBlur:c[2]||(c[2]=_=>u.value=!1),flat:"","prepend-inner-icon":"mdi-tag-plus",variant:t(u)?"outlined":"solo",label:"Add tag","single-line":"",onKeyup:me(d,["enter"]),modelValue:t(a),"onUpdate:modelValue":c[3]||(c[3]=_=>ee(a)?a.value=_:null),ref_key:"textField",ref:n},null,8,["variant","modelValue"])])],64))}}),Re=h=>(te("data-v-80319c0e"),h=h(),se(),h),Fe=Re(()=>k("h4",{class:"font-weight-regular",style:{"font-family":"'Roboto', sans-serif"}},"Today Schedules",-1)),Oe=D({__name:"NavigationDrawer",props:["showNavigation"],setup(h){const f=A(!0),l=ae(),{schedules:i}=z(V()),a=q(()=>i.value.filter(u=>{const n=new Date,d=new Date(u.endAt);return n.toDateString()==d.toDateString()&&!u.finished}).sort((u,n)=>new Date>new Date(n.endAt)?-1:new Date(u.endAt)-new Date(n.endAt)).slice(0,3));return l.getAll(),(u,n)=>{const d=Ue,o=Le;return m(),y(Se,{onClick:n[1]||(n[1]=P(()=>{},["stop"])),onMousedown:n[2]||(n[2]=P(()=>{},["stop"])),location:"left",width:"280","model-value":h.showNavigation,style:{"z-index":"50 !important"}},{default:s(()=>[e(S,{class:"h-100",style:{"overflow-y":"scroll"},id:"upcoming-schedule-container"},{default:s(()=>[e(S,{class:"pa-3 px-5 d-flex align-center border-b rounded-0",color:"transparent",flat:"",onClick:n[0]||(n[0]=c=>f.value=!t(f))},{default:s(()=>[Fe,e(De),t(f)?(m(),y(R,{key:1},{default:s(()=>[g("mdi-chevron-up")]),_:1})):(m(),y(R,{key:0},{default:s(()=>[g("mdi-chevron-down")]),_:1}))]),_:1}),t(f)?(m(),y(le,{key:0,class:"pa-2"},{default:s(()=>[e(_e,{name:"slide"},{default:s(()=>[(m(!0),b(J,null,X(t(a),(c,_)=>(m(),y(d,{class:"mb-2",style:fe(`transition-delay: ${_/5}s`),id:c._id,key:c._id,schedule:c},null,8,["style","id","schedule"]))),128))]),_:1}),t(a).length<1?(m(),y(j,{key:0,class:"text-center text-subtitle-2 font-weight-regular",style:{opacity:".8"}},{default:s(()=>[g(" No upcoming schedule ")]),_:1})):C("",!0)]),_:1})):C("",!0),e(o)]),_:1})]),_:1},8,["model-value"])}}});const Ge=ne(Oe,[["__scopeId","data-v-80319c0e"]]),Je={class:"text-center mt-2 font-weight-medium"},Pe={class:"font-weight-bold text-error"},je={class:"d-flex mt-4",style:{gap:"10px"}},Ke=D({__name:"DeleteCard",setup(h){const{schedules:f}=z(V()),l=E(),i=q(()=>f.value.find(o=>o._id==l.query.delete)),a=A(!1),u=V(),n=oe();function d(){l.query.delete&&u.destroy(l.query.delete.toString()).then(()=>{n.push({query:{}})})}return(o,c)=>t(i)?(m(),y(S,{key:0,class:"pa-5 px-10 d-flex flex-column align-center",loading:t(a),disabled:t(a)},{default:s(()=>[e(ge,{size:"60",style:{border:"2px solid rgba(var(--v-theme-error))",opacity:".5"}},{default:s(()=>[e(R,{size:"30",color:"error"},{default:s(()=>[g("mdi-trash-can-outline")]),_:1})]),_:1}),k("h3",Je,[g("Are you sure you want to delete "),k("span",Pe,B(t(i).title),1),g(" schedule?")]),k("div",je,[e(T,{class:"text-capitalize",color:"blue",onClick:d},{default:s(()=>[g("Yes")]),_:1}),e(T,{class:"text-capitalize",onClick:c[0]||(c[0]=_=>o.$router.push({query:{}}))},{default:s(()=>[g("No")]),_:1})])]),_:1},8,["loading","disabled"])):C("",!0)}}),We={key:0,class:"pa-5 pt-2"},Qe=D({__name:"EditContainer",setup(h){const f=E(),{schedules:l}=z(V()),i=q(()=>l.value.find(a=>a._id==f.query.edit));return(a,u)=>{const n=xe;return t(i)?(m(),b("div",We,[e(K,{class:"px-0 mb-2"},{default:s(()=>[g("Edit Schedule")]),_:1}),e(n,{schedule:t(i),onClose:u[0]||(u[0]=d=>a.$router.push({query:{}}))},null,8,["schedule"])])):C("",!0)}}}),Ye={class:"d-flex mb-2",style:{gap:"15px"}},Ze={class:"d-flex pt-2",style:{gap:"5px"}},Xe=D({__name:"CreateScheduleCard",props:["startAt"],emits:["close"],setup(h,{emit:f}){const l=h,i=f;E();const a=A(new Date(l.startAt)),u=new Date;u.setHours(22),u.setMinutes(0);const n=he({title:"",startAt:new Date(l.startAt),endAt:new Date(u),location:"",link:"",recurrence:"weekly",tags:[],reminder:"1 day before"});ve(a,()=>{const w=new Date(n.startAt),r=new Date(n.endAt),$=new Date(a.value);$.setHours(w.getHours()),$.setMinutes(w.getMinutes());const x=new Date(a.value);x.setHours(r.getHours()),x.setMinutes(r.getMinutes()),n.startAt=$,n.endAt=x});function d(w){const r=new Date(w),$=new Date(n.endAt);return r<$}function o(w){const r=new Date(w),$=new Date(n.startAt);return r>$}function c(w){const r=new Date(n.startAt),x=new Date(n.endAt)-r,F=Math.floor(x/(1e3*60*60)),H=x/(1e3*60);return F>0||H>=15}function _(w){return w?new RegExp("^https://meet.google.com|^https://zoom.us").test(w):!0}const N={title:{required:G},startAt:{required:G,lowerThan:I.withMessage("The field must before end date!",d),mustHaveDistance:I.withMessage("The field must have atleast 15 minutes distance!",c)},endAt:{required:G,greaterThan:I.withMessage("The field must after start date!",o),mustHaveDistance:I.withMessage("The field must have atleast 15 minutes distance!",c)},location:{},link:{link:I.withMessage("The field must be from gmeet or zoom!",_)},recurrence:{},tags:{},reminder:{}},p=Te(N,n),M=A(!1),U=V();oe(),z(V());async function re(){await p.value.$validate()&&(M.value=!0,U.create(n).then(()=>{M.value=!1,i("close")}))}return(w,r)=>{const $=Ce,x=be,F=ke;return m(),y(Me,{onSubmit:P(re,["prevent"])},{default:s(()=>{var H,W;return[e(L,{"prepend-inner-icon":"mdi-calendar-text",density:"compact","error-messages":((H=t(p).title.$errors[0])==null?void 0:H.$message.toString())||"",variant:"solo-filled",flat:"",modelValue:t(p).title.$model,"onUpdate:modelValue":r[0]||(r[0]=v=>t(p).title.$model=v),placeholder:"What's the agenda?"},null,8,["error-messages","modelValue"]),e($,{date:t(a),"onUpdate:date":r[1]||(r[1]=v=>ee(a)?a.value=v:null)},null,8,["date"]),k("div",Ye,[e(Z,{class:"pa-0"},{default:s(()=>[e(x,{"error-messages":t(p).startAt.$errors.length>0?t(p).startAt.$errors[0].$message:"",date:t(p).startAt.$model,"onUpdate:date":r[2]||(r[2]=v=>t(p).startAt.$model=v)},null,8,["error-messages","date"])]),_:1}),e(Z,{class:"pa-0"},{default:s(()=>[e(x,{"error-messages":t(p).endAt.$errors.length>0?t(p).endAt.$errors[0].$message:"",date:t(p).endAt.$model,"onUpdate:date":r[3]||(r[3]=v=>t(p).endAt.$model=v)},null,8,["error-messages","date"])]),_:1})]),e(L,{modelValue:t(p).location.$model,"onUpdate:modelValue":r[4]||(r[4]=v=>t(p).location.$model=v),flat:"",label:"Location","single-line":"",variant:"solo-filled",density:"compact","prepend-inner-icon":"mdi-map-marker"},null,8,["modelValue"]),e(L,{"error-messages":((W=t(p).link.$errors[0])==null?void 0:W.$message.toString())||"",modelValue:t(p).link.$model,"onUpdate:modelValue":r[5]||(r[5]=v=>t(p).link.$model=v),flat:"",label:"Video meeting link","single-line":"",variant:"solo-filled",density:"compact","prepend-inner-icon":"mdi-link-variant"},null,8,["error-messages","modelValue"]),e(F,{tags:t(p).tags.$model,"onUpdate:tags":r[6]||(r[6]=v=>t(p).tags.$model=v)},null,8,["tags"]),k("div",Ze,[e(T,{"prepend-icon":"mdi-plus",type:"submit",flat:"",loading:t(M),class:"w-50 text-capitalize",color:"primary"},{default:s(()=>[g("Add ")]),_:1},8,["loading"]),e(T,{"prepend-icon":"mdi-cancel",flat:"",class:"w-50 text-capitalize border",onClick:r[7]||(r[7]=v=>i("close"))},{default:s(()=>[g("Cancel ")]),_:1})])]}),_:1})}}}),et={class:"pa-5 pt-2"},tt=D({__name:"CreateContainer",setup(h){const f=E(),l=q(()=>{var i;return new Date(((i=f.query.date)==null?void 0:i.toString())||"")});return(i,a)=>{const u=Xe;return m(),b("div",et,[e(K,{class:"px-0 mb-2"},{default:s(()=>[g("Add Schedule")]),_:1}),e(u,{"start-at":t(l),onClose:a[0]||(a[0]=n=>i.$router.push({query:{}}))},null,8,["start-at"])])}}}),st=h=>(te("data-v-c377da51"),h=h(),se(),h),nt=st(()=>k("div",{id:"app-bar-schedule",class:"d-flex align-center w-100 pr-2"},null,-1)),ot=D({__name:"schedules",setup(h){ye({title:"Schedules"});const f=A(!1);we("appbar",f);const l=A(!0),i=V(),{schedule:a,schedules:u}=z(i),n=E();return i.getAll().then(()=>{if(n.query.edit){const d=u.value.find(o=>o._id==n.query.edit);d&&(a.value=d)}}),(d,o)=>{const c=Ge,_=Ae,N=Ke,p=Qe,M=tt;return m(),b("div",null,[e(c,{"show-navigation":t(l)},null,8,["show-navigation"]),e(ze,{class:"d-flex align-center text-white",density:"compact",style:{"background-color":"rgba(0,0,0,.4)","z-index":"50 !important"},flat:"",absolute:"",onVnodeMounted:o[1]||(o[1]=U=>f.value=!0)},{default:s(()=>[e(qe,{onClick:o[0]||(o[0]=U=>l.value=!t(l))}),nt]),_:1},512),e(Ne,{class:"h-screen"},{default:s(()=>[e(S,{class:"w-100 h-100 rounded-0",style:{"background-color":"rgba(0, 0, 0, 0.2) !important"}},{default:s(()=>[e(_),e($e,{contained:"",width:"460","model-value":!!(d._.provides[O]||d.$route).query.delete,"no-click-animation":"",persistent:""},{default:s(()=>[e(N)]),_:1},8,["model-value"]),e(Q,{class:"d-flex justify-end",contained:"",width:"400",height:"100%","model-value":!!(d._.provides[O]||d.$route).query.edit,"no-click-animation":"",persistent:"",transition:"slide-x-reverse-transition","onClick:outside":o[2]||(o[2]=U=>d.$router.push({query:{}}))},{default:s(()=>[e(S,{class:"h-100 rounded-0"},{default:s(()=>[e(p)]),_:1})]),_:1},8,["model-value"]),e(Q,{class:"d-flex justify-end",contained:"",width:"400",height:"100%","model-value":!!(d._.provides[O]||d.$route).query.date,"no-click-animation":"",persistent:"",transition:"slide-x-reverse-transition","onClick:outside":o[3]||(o[3]=U=>d.$router.push({query:{}}))},{default:s(()=>[e(S,{class:"h-100 rounded-0"},{default:s(()=>[e(M)]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1})])}}});const Tt=ne(ot,[["__scopeId","data-v-c377da51"]]);export{Tt as default};
