import{d as M,F as N,r as V,v as u,H as v,B as s,A as o,V as R,L as i,y,C as x,ag as L,a9 as z,ah as E,x as $,Q as j,R as P,J as I,aU as H,T as J,b3 as K,ap as Q,$ as q,a0 as G,ao as O,aj as W,b4 as X,ar as Y,a2 as Z,a1 as ee,c as ae,b5 as te,a8 as le}from"./entry.76ac6703.js";import{u as se}from"./project.5773a2e5.js";import{V as oe}from"./VSpacer.3dca0b38.js";import{V as S}from"./VBtn.99e77a7e.js";import{V as ne}from"./VMenu.afbb4cec.js";import{V as ie}from"./VTextField.5d12511c.js";import{a as T}from"./VSelect.2efe9a30.js";import{V as B,a as _}from"./VList.48191682.js";import{V as re}from"./VProgressCircular.543ad530.js";const de={class:"d-flex align-center"},ue={class:"mt-1"},ce=y("label",{class:"text-subtitle-2",for:""},"Person email adress",-1),me={class:"text-center"},pe={class:"d-flex align-center"},ve={class:"mt-5"},Be=M({__name:"ShareDialog",props:{showDialog:{type:Boolean},project:{}},emits:["update:showDialog"],setup(e,{emit:n}){const l=e,f=n;N();const c=V([]),r=V([]),m=V(!1),g=V(!1),b=V(!1),h=V("member"),k=se();function C(p){m.value=!0,k.findMembers(l.project._id,p).then(({data:t})=>{var a;t.value&&(c.value=((a=t.value)==null?void 0:a.users)||[]),m.value=!1})}function F(){g.value=!0,k.addMembers(l.project._id,r.value).then(()=>{g.value=!1,r.value=[],c.value=[],f("update:showDialog",!1)})}async function D(p){const t=r.value.findIndex(a=>a.email==p.email);t>-1?r.value.splice(t,1):r.value.push({email:p.email,name:p.name,role:h.value})}return(p,t)=>(u(),v(H,{width:"550","model-value":p.showDialog,"onClick:outside":t[6]||(t[6]=a=>f("update:showDialog",!1))},{default:s(()=>[o(R,{class:"pa-5 pt-4 rounded-lg",disabled:i(g)},{default:s(()=>[y("h3",de,[x(" Share Project Access "),o(oe),o(S,{flat:"",size:"small",icon:"mdi-close",onClick:t[0]||(t[0]=a=>f("update:showDialog",!1))})]),y("div",ue,[ce,y("div",me,[o(ne,{"offset-y":"","open-on-focus":!0,modelValue:i(b),"onUpdate:modelValue":t[4]||(t[4]=a=>L(b)?b.value=a:null)},{activator:s(({props:a})=>[o(ie,z(a,{onFocus:t[2]||(t[2]=d=>b.value=!0),onKeyup:t[3]||(t[3]=d=>C(d.target.value)),density:"compact",label:"Enter person email address",class:"mt-2","single-line":"",variant:"outlined","hide-details":""}),{append:s(()=>[o(T,{density:"compact","single-line":"",variant:"outlined",class:"w-50","hide-details":"",modelValue:i(h),"onUpdate:modelValue":t[1]||(t[1]=d=>L(h)?h.value=d:null),items:["admin","member"]},null,8,["modelValue"])]),_:2},1040)]),default:s(()=>[i(c).length<1||i(m)?(u(),v(B,{key:0},{default:s(()=>[i(c).length<1&&!i(m)?(u(),v(_,{key:0,class:"text-center"},{default:s(()=>[x(" No Results ")]),_:1})):i(m)?(u(),v(_,{key:1,class:"d-flex align-center justify-center py-10"},{default:s(()=>[o(re,{indeterminate:"",color:"primary",size:"35"})]),_:1})):E("",!0)]),_:1})):(u(),v(B,{key:1,style:{"overflow-y":"auto"},class:"pa-2"},{default:s(()=>[(u(!0),$(j,null,P(i(c),a=>(u(),v(_,{active:i(r).some(d=>d.email==a.email),class:"py-2 rounded-lg mb-1","prepend-avatar":a.picture,key:a.email,title:a.email,subtitle:a.name,onClick:d=>D({email:a.email,name:a.name,role:"member"})},null,8,["active","prepend-avatar","title","subtitle","onClick"]))),128))]),_:1}))]),_:1},8,["modelValue"])]),o(B,null,{default:s(()=>[(u(!0),$(j,null,P(i(r),a=>(u(),v(_,{class:"py-2 px-0 rounded mb-1 border-b","prepend-avatar":"https://source.unsplash.com/random/35x35/?person&"+a.email,key:a.email,title:a.email,subtitle:a.name},{append:s(()=>[y("div",pe,[o(I,{class:"mr-2",onClick:d=>D(a)},{default:s(()=>[x("mdi-close")]),_:2},1032,["onClick"]),o(T,{density:"compact","single-line":"",variant:"outlined",class:"w-50","hide-details":"",modelValue:a.role,"onUpdate:modelValue":d=>a.role=d,items:["admin","member"]},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1032,["prepend-avatar","title","subtitle"]))),128))]),_:1})]),y("div",ve,[o(S,{"prepend-icon":"mdi-share",variant:"elevated",onClick:F,loading:i(g),class:"text-capitalize",flat:"",color:"primary",disabled:i(r).length<1},{default:s(()=>[x("Share access")]),_:1},8,["loading","disabled"]),o(S,{class:"text-capitalize ml-2",flat:"",onClick:t[5]||(t[5]=a=>f("update:showDialog",!1))},{default:s(()=>[x("Cancel")]),_:1})])]),_:1},8,["disabled"])]),_:1},8,["model-value"]))}});const fe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ge(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[n])}function U(e){const[n,l]=e.split("@");return Array.from({length:l}).map(()=>w(n))}function w(e){let n=[];if(!e)return n;const l=fe[e];if(e!==l){if(e.includes(","))return A(e);if(e.includes("@"))return U(e);l.includes(",")?n=A(l):l.includes("@")?n=U(l):l&&n.push(w(l))}return[ge(e,n)]}function A(e){return e.replace(/\s/g,"").split(",").map(w)}const be=J({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...K(),...Q(),...q()},"VSkeletonLoader"),De=G()({name:"VSkeletonLoader",props:be(),setup(e,n){let{slots:l}=n;const{backgroundColorClasses:f,backgroundColorStyles:c}=O(W(e,"color")),{dimensionStyles:r}=X(e),{elevationClasses:m}=Y(e),{themeClasses:g}=Z(e),{t:b}=ee(),h=ae(()=>w(te(e.type).join(",")));return le(()=>{var C;const k=!l.default||e.loading;return o("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},g.value,f.value,m.value],style:[c.value,k?r.value:{}],"aria-busy":e.boilerplate?void 0:k,"aria-live":e.boilerplate?void 0:"polite","aria-label":e.boilerplate?void 0:b(e.loadingText),role:e.boilerplate?void 0:"alert"},[k?h.value:(C=l.default)==null?void 0:C.call(l)])}),{}}});export{De as V,Be as _};
