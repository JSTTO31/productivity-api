import{F as k,G as C,r as _,d as B,t as S,v as f,H as y,B as n,A as t,V as g,I as V,J as z,C as h,y as o,K as F,L as s,M as I,x as E,N as L}from"./entry.76ac6703.js";import{u as N,r as x,e as T}from"./index.68ae986f.js";import{_ as j}from"./google.d03dfefd.js";import{V as A}from"./VMain.6e4c2d59.js";import{V as M}from"./VForm.29a10959.js";import{V as $}from"./VDivider.1603b2c9.js";import{V as b}from"./VTextField.5d12511c.js";import{V as U}from"./VSpacer.3dca0b38.js";import{V as D}from"./VBtn.99e77a7e.js";import"./ssrBoot.2e44aaf6.js";import"./index.769fbc5f.js";/* empty css              */import"./VProgressCircular.543ad530.js";function G(){const v=k(),r=C({email:"",password:""}),i={email:{required:x,email:T},password:{required:x}},u=_({}),m=N(i,r,{$externalResults:u});async function p(){if(await m.value.$validate())try{const{error:a,status:e}=await v.login(r);a.value&&a.value.data.errors&&(u.value=a.value.data.errors.reduce((d,l)=>(d[l.path]||(d[l.path]=[]),d[l.path].push(l.msg),d),[])),a.value&&a.value.statusCode==401&&(u.value={email:["The credentials is incorrect, please try again!"],password:[""]}),e.value=="success"&&(location.href="http://localhost:3000/r/access/home")}catch(a){console.log(a)}}return{$v:m,credentials:r,submit:p}}const H=o("h1",{class:"text-center font-weight-bold",style:{"font-family":"'Roboto', cursive !important"}},"Login to your account",-1),P={class:"font-weight-regular text-center mt-2"},R=o("h3",{class:"font-weight-medium ml-5"},"Sign in with google",-1),q={class:"d-flex align-center my-5"},J=o("span",{class:"w-100 text-center"},"with email address",-1),K=o("label",{class:"font-weight-bold",for:"email"},"Email address",-1),W=o("label",{class:"font-weight-bold",for:"password"},"Password",-1),O={class:"d-flex align-center mt-n3"},Q=o("span",{class:"text-blue-darken-1"},"Forgot the password?",-1),X={key:1},Y=o("h3",{class:"font-weight-medium ml-5"},"Continue with email",-1),ce=B({__name:"login",setup(v){S({title:"Login your account"});const r=_(!1),{$v:i,submit:u}=G(),m=_(!1);function p(){location.href="http://localhost:8000/auth/google"}return(a,e)=>{const d=L;return f(),y(A,{class:"d-flex align-center justify-center"},{default:n(()=>[t(d,null,{default:n(()=>[t(g,{flat:"",class:"rounded-xl px-5 d-flex mt-n15 flex-column px-10",width:"550"},{default:n(()=>[t(V,{onClick:e[0]||(e[0]=l=>a.$router.push({name:"index"})),class:"mx-auto",size:"75",style:{transform:"rotate(25deg)",cursor:"pointer"}},{default:n(()=>[t(z,{size:"75"},{default:n(()=>[h("mdi-lightning-bolt")]),_:1})]),_:1}),H,o("h3",P,[h(" Don't have an account? "),o("span",{class:"text-blue-darken-2",style:{cursor:"pointer"},onClick:e[1]||(e[1]=l=>a.$router.push({name:"auth-register"}))},"Sign up")]),t(g,{class:"d-flex justify-center mt-10 align-center pa-3",onClick:p,variant:"outlined"},{default:n(()=>[t(V,{size:"30"},{default:n(()=>[t(F,{src:j})]),_:1}),R]),_:1}),s(m)?(f(),y(M,{key:0,onSubmit:I(s(u),["prevent"])},{default:n(()=>{var l,w;return[o("div",q,[t($),J,t($)]),K,t(b,{modelValue:s(i).email.$model,"onUpdate:modelValue":e[2]||(e[2]=c=>s(i).email.$model=c),"error-messages":((l=s(i).email.$errors[0])==null?void 0:l.$message)||"",id:"email",variant:"solo-filled",flat:"",class:"my-2","prepend-inner-icon":"mdi-email-outline","single-line":"",label:"Enter your email address"},null,8,["modelValue","error-messages"]),W,t(b,{type:s(r)?"text":"password",modelValue:s(i).password.$model,"onUpdate:modelValue":e[3]||(e[3]=c=>s(i).password.$model=c),"error-messages":((w=s(i).password.$errors[0])==null?void 0:w.$message)||"",id:"password",variant:"solo-filled",flat:"",class:"my-2","prepend-inner-icon":"mdi-lock-outline","single-line":"",label:"Enter your password","append-inner-icon":s(r)?"mdi-eye-outline":"mdi-eye-off-outline","onClick:appendInner":e[4]||(e[4]=c=>r.value=!s(r))},null,8,["type","modelValue","error-messages","append-inner-icon"]),o("div",O,[t(U),Q]),t(D,{type:"submit",class:"rounded-lg mt-5 text-capitalize","append-icon":"mdi-login",size:"large",color:"primary"},{default:n(()=>[h("Login account")]),_:1})]}),_:1},8,["onSubmit"])):(f(),E("div",X,[t(g,{class:"d-flex justify-center mt-5 align-center pa-3",onClick:e[5]||(e[5]=l=>m.value=!0),color:"grey-lighten-2",variant:"flat"},{default:n(()=>[Y]),_:1})]))]),_:1})]),_:1})]),_:1})}}});export{ce as default};
